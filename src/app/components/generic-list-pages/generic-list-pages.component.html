@if (items$ | async; as items) {

    @for (item of (items ?? []); track item.name) {
        <ng-container 
            *ngTemplateOutlet="itemTemplate; context: { $implicit: item }">
        </ng-container>
    }
    
} @else {
    <p>Loading...</p>
}

@if (totalPagesAndItems$ | async; as totalPagesAndItems) {
    <mat-paginator
        [length]="totalPagesAndItems.totalItems"
        [pageSize]="20"
        aria-label="Select page"
        [pageIndex]="currentPage - 1"
        (page)="onPageChange($event)">
    </mat-paginator>
}